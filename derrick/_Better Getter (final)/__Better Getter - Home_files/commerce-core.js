function str_repeat(t,e){for(var i=[];e>0;i[--e]=t);return i.join("")}function sprintf(){for(var t,e,i,s,n,o=0,a=arguments[o++],r=[],c="";a;){if(e=/^[^\x25]+/.exec(a))r.push(e[0]);else if(e=/^\x25{2}/.exec(a))r.push("%");else{if(!(e=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a)))throw"Oops ?!";if(null==(t=arguments[e[1]||o++])||void 0==t)throw"Too few arguments.";if(/[^s]/.test(e[7])&&"number"!=typeof t)throw"Expecting number but found "+typeof t;switch(e[7]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t);break;case"e":t=e[6]?t.toExponential(e[6]):t.toExponential();break;case"f":t=e[6]?parseFloat(t).toFixed(e[6]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&e[6]?t.substring(0,e[6]):t;break;case"u":t=Math.abs(t);break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase()}t=/[def]/.test(e[7])&&e[2]&&t>=0?"+"+t:t,s=e[3]?"0"==e[3]?"0":e[3].charAt(1):" ",n=e[5]-String(t).length-c.length,i=e[5]?str_repeat(s,n):"",r.push(c+(e[4]?t+i:i+t))}a=a.substring(e[0].length)}return r.join("")}!function(t){var e;return t.event.fix=function(t){return function(e){return e=t.apply(this,arguments),(0===e.type.indexOf("copy")||0===e.type.indexOf("paste"))&&(e.clipboardData=e.originalEvent.clipboardData),e}}(t.event.fix),e={callback:t.noop,matchType:/image.*/},t.fn.pasteImageReader=function(i){return"function"==typeof i&&(i={callback:i}),i=t.extend({},e,i),this.each(function(){var e,s;return s=this,e=t(this),e.bind("paste",function(t){var e,n;return n=!1,e=t.clipboardData?t.clipboardData:!1,e!==!1?Array.prototype.forEach.call(e.types,function(t,o){var a,r;if(!n)return t.match(i.matchType)||e.items[o].type.match(i.matchType)?(a=e.items[o].getAsFile(),r=new FileReader,r.onload=function(t){return i.callback.call(s,{dataURL:t.target.result,event:t,file:a,name:a.name})},r.readAsDataURL(a),n=!0):void 0}):void 0})})}}(jQuery),_wAMD.define("vendor/jquery.pasteImageReader",function(){}),function(t){function e(t){for(var e=1;e<arguments.length;e++)t=t.replace("%"+(e-1),arguments[e]);return t}function i(i,s){var n,o,a,r,c,l,h,u,d=t("img:first",i),p=d,f=null,m=null,g=null,v=null,b=null,w=null,C=0,y=0,x=0,S=0,F=0,E=0,k=0,T=this;setTimeout(function(){if(null===m){var t=i.width();i.parent().append(e('<div style="width:%0px;position:absolute;top:75%;left:%1px;text-align:center" class="cloud-zoom-loading" >Loading...</div>',t/3,t/2-t/6)).find(":last").css("opacity",.5)}},200);var D=function(){null!==w&&(w.remove(),w=null)};this.removeBits=function(){g&&(g.remove(),g=null),v&&(v.remove(),v=null),b&&(b.remove(),b=null),D(),t(".cloud-zoom-loading",i.parent()).remove()},this.destroy=function(){i.data("zoom",null),m&&(m.unbind(),m.remove(),m=null),f&&(f.remove(),f=null),this.removeBits()},this.fadedOut=function(){f&&(f.remove(),f=null),this.removeBits()},this.controlLoop=function(){if(g){var t=l-p.offset().left-.5*r>>0,e=h-p.offset().top-.5*c>>0;0>t?t=0:t>p.outerWidth()-r&&(t=p.outerWidth()-r),0>e?e=0:e>p.outerHeight()-c&&(e=p.outerHeight()-c),g.css({left:t,top:e}),g.css("background-position",-t+"px "+-e+"px"),x=t/p.outerWidth()*a.width>>0,S=e/p.outerHeight()*a.height>>0,E+=(x-E)/s.smoothMove,F+=(S-F)/s.smoothMove,f.css("background-position",-(E>>0)+"px "+(-(F>>0)+"px"))}C=setTimeout(function(){T.controlLoop()},30)},this.init2=function(t,e){k++,1===e&&(a=t),2===k&&this.init()},this.init=function(){t(".cloud-zoom-loading",i.parent()).remove(),m=t(".mousetrap",i.parent()),m&&(m.unbind(),m.remove()),m=i.parent().append(e("<div class='mousetrap' style='background-image:url(\"//"+ASSETS_BASE+"/images/blank.gif\");z-index:2;position:absolute;width:%0px;height:%1px;left:%2px;top:%3px;'></div>",p.outerWidth(),p.outerHeight(),0,0)).find(":last"),m.bind("mousemove",this,function(t){l=t.pageX,h=t.pageY}),m.bind("mouseleave",this,function(t){return clearTimeout(C),clearTimeout(y),g&&g.fadeOut(299),v&&v.fadeOut(299),b&&b.fadeOut(299),f&&f.fadeOut(300,function(){T.fadedOut()}),!1});var n=i.attr("href"),o=i.find("img").attr("src");n!=o&&m.bind("mouseenter",this,function(n){y=setTimeout(function(){u=n.data,f&&(f.stop(!0,!1),f.remove());var o=s.adjustX,l=s.adjustY,h=p.outerWidth(),C=p.outerHeight(),y=s.zoomWidth,x=s.zoomHeight;"auto"==s.zoomWidth&&(y=h),"auto"==s.zoomHeight&&(x=C);var S=i.parent();switch(s.position){case"top":l-=x;break;case"right":o+=h;break;case"bottom":l+=C;break;case"left":o-=y;break;case"inside":y=h,x=C;break;default:S=t("#"+s.position),S.length?(y=S.innerWidth(),x=S.innerHeight()):(S=i,o+=h,l+=C)}f=S.append(e('<div id="cloud-zoom-big" class="cloud-zoom-big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:1;"></div>',o,l,y,x,a.src)).find(":last"),d.attr("title")&&s.showTitle&&f.append(e('<div class="cloud-zoom-title">%0</div>',d.attr("title"))).find(":last").css("opacity",s.titleOpacity),t.browser.msie&&t.browser.version<7&&(w=t('<iframe frameborder="0" src="#"></iframe>').css({position:"absolute",left:o,top:l,zIndex:1,width:y,height:x}).insertBefore(f)),f.fadeIn(500),g&&(g.remove(),g=null),r=p.outerWidth()/a.width*f.width(),c=p.outerHeight()/a.height*f.height(),g=i.append(e("<div class = 'cloud-zoom-lens' style='display:none;z-index:98;position:absolute;width:%0px;height:%1px;'></div>",r,c)).find(":last"),m.css("cursor",g.css("cursor"));var F=!1;s.tint&&(g.css("background",'url("'+d.attr("src")+'")'),v=i.append(e('<div style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',p.outerWidth(),p.outerHeight(),s.tint)).find(":last"),v.css("opacity",s.tintOpacity),F=!0,v.fadeIn(500)),s.softFocus&&(g.css("background",'url("'+d.attr("src")+'")'),b=i.append(e('<div style="position:absolute;display:none;top:2px; left:2px; width:%0px; height:%1px;" />',p.outerWidth()-2,p.outerHeight()-2,s.tint)).find(":last"),b.css("background",'url("'+d.attr("src")+'")'),b.css("opacity",.5),F=!0,b.fadeIn(500)),F||g.css("opacity",s.lensOpacity),"inside"!==s.position&&g.fadeIn(500),u.controlLoop()},250)})},n=new Image,t(n).load(function(){T.init2(this,0)}),n.src=d.attr("src"),o=new Image,t(o).load(function(){T.init2(this,1)}),o.src=i.attr("href")}t.fn.CloudZoom=function(e){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(s){}return this.each(function(){var s,n=t(this);if(n.is(".cloud-zoom")){n.css({position:"relative",display:"block"}),t("img",n).css({display:"block"}),"cloudzoom-wrap"!=t(this).parent().attr("id")&&t(this).wrap('<div id="cloudzoom-wrap" style="top:0px;position:relative;"></div>'),s=t.extend({},t.fn.CloudZoom.defaults,e);var o={adjustX:"int",adjustY:"int",zoomWidth:"int",zoomHeight:"int",position:"string",tint:"string",tintOpacity:"float",lensOpacity:"float",softFocus:"bool",smoothMove:"int",showTitle:"bool",titleOpacity:"float"};for(var a in o){var r=t(this).attr("data-"+a);if(r)switch(o[a]){case"int":case"float":s[a]=Number(r);break;case"bool":s[a]=Boolean(r);break;case"string":default:s[a]=r}}t(this).data("zoom",new i(t(this),s))}else t(this).is(".cloud-zoom-gallery")&&(s=t.extend({},{useZoom:t(this).attr("data-zoom-id"),smallImage:t(this).attr("data-small-image")},e),t(this).data("relOpts",s),t(this).bind("click",t(this),function(e){var i=e.data,n=i.data("relOpts");t("#"+n.useZoom+" div.wsite-show").add("#"+n.useZoom+" div.wsite-show-init");return t("#"+n.useZoom).data("zoom").destroy(),t("#"+n.useZoom).attr("href",i.attr("href")),t("#"+n.useZoom+" img").attr("src",n.smallImage),t("#"+n.useZoom).CloudZoom(s),!1}))}),this},t.fn.CloudZoom.defaults={zoomWidth:"auto",zoomHeight:"auto",position:"right",tint:!1,tintOpacity:.5,lensOpacity:.5,softFocus:!1,smoothMove:3,showTitle:!0,titleOpacity:.5,adjustX:0,adjustY:0}}(jQuery),_wAMD.define("vendor/cloud-zoom.1.0.2",function(){}),_wAMD.define("util/general-utils",[],function(){var t={htmlDecode:function(t){var e=document.createElement("div");return e.innerHTML=t,0===e.childNodes.length?"":e.childNodes[0].nodeValue},isIE:function(){return/(MSIE|Trident)/.test(navigator.userAgent)},isChrome:function(){return/(Chrome)/.test(navigator.userAgent)},getURLParameter:function(t){for(var e=window.location.search.substring(1),i=e.split("&"),s=0;s<i.length;s++){var n=i[s].split("=");if(n[0]==t)return decodeURIComponent(n[1])}return""},splitName:function(t){var e;return/^[^\s]*\s[^\s]*\s?$/i.test(t)?t.split(" "):(e=t.match(/^([^\s]*\s[^\s]\.?)\s(.*)\s?$/i))?e.slice(1):(e=t.match(/^(.*)\s([^\s]*)\s(jr|sr|ii|iii|iv|v|vi|vii|viii|ix|x)\.?\s?$/i))?e.slice(1):(e=t.match(/^([^\s]*\s[^\s]*)\s(.*)\s?$/i))?e.slice(1):[t,""]},isValidEmail:function(t){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},numberWithCommas:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getSiteDomain:function(){var t=!1;return Weebly.Location.custom_domain?t=Weebly.Location.custom_domain:Weebly.Location.weebly_subdomain&&(t=Weebly.Location.weebly_subdomain+".weebly.com"),t},generateTimeInterval:function(t,e){var i,s,n=[],t=t||12,e=e||30;for(i=0;23>=i;i++)for(s=0;60>s;s+=e){var o=("00"+s).slice(-2),a=i,r="";12===t?(r="am",0===i?a=12:12===i?(a=i,r="pm"):i>12&&(a=i-t,r="pm")):a=("00"+i).slice(-2),n.push(a+":"+o+" "+r)}return n},hasValidUrl:function(t){return/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(t)},isCyclic:function(t){function e(t){if(!t||"object"!=typeof t)return!1;if(-1!==i.indexOf(t))return!0;i.push(t);for(var s in t)if(t.hasOwnProperty(s)&&e(t[s]))return!0;return!1}var i=[];return e(t)},setDropEffect:function(t){var e;t.originalEvent&&(t=t.originalEvent),t.dataTransfer&&(e=-1!==["move","linkMove"].indexOf(t.dataTransfer.effectAllowed),t.dataTransfer.dropEffect=e?"move":"copy")},getCookie:function(t){var e="; "+document.cookie,i=e.split("; "+t+"=");return 2==i.length?unescape(i.pop().split(";").shift()):null}};return t}),_wAMD.define("util/backbone-validators",["backbone-all","util/general-utils"],function(t,e){_.extend(t.Validation.validators,{"in":function(){return t.Validation.validators.oneOf.apply(this,arguments)},email:function(t,i,s){return e.isValidEmail(t)?void 0:this.format(_W.stl("javascript.util.backbone-validators_1"),this.formatLabel(i,s))},maxlength:t.Validation.validators.maxLength,minlength:t.Validation.validators.minLength}),_.extend(t.Validation.messages,{required:_W.stl("javascript.validation.required"),acceptance:_W.stl("javascript.validation.accepted"),min:_W.stl("javascript.validation.min"),max:_W.stl("javascript.validation.max"),range:_W.stl("javascript.validation.range"),length:_W.stl("javascript.validation.length"),minLength:_W.stl("javascript.validation.charMin"),maxLength:_W.stl("javascript.validation.charMax"),rangeLength:_W.stl("javascript.validation.charRange"),oneOf:_W.stl("javascript.validation.oneOf"),equalTo:_W.stl("javascript.validation.equal"),digits:_W.stl("javascript.validation.digits"),number:_W.stl("javascript.validation.number"),"int":_W.stl("javascript.validation.int"),email:_W.stl("javascript.validation.email"),url:_W.stl("javascript.validation.url"),domain:_W.stl("javascript.validation.domain"),inlinePattern:_W.stl("javascript.validation.inline")})}),function(t){t.Event.prototype.stop=function(){this.preventDefault(),this.stopPropagation()},t.fn.extend({getValue:function(){var t=this;return"checkbox"===t.attr("type")||"radio"===t.attr("type")?t.prop("checked"):t.is(":input")?t.val():t.html()},setValue:function(t){var e=this;return"checkbox"===e.attr("type")||"radio"===e.attr("type")?e.prop("checked",!!t):e.is(":input")?e.val(null==t||void 0==t?"":t):e.html("string"==typeof t?t:""),e},getValues:function(e){e=e||"";var i={};return this.find(":input,.input").each(function(){var s=t(this),n=s.attr("name")||s.attr("id");n&&0===n.indexOf(e)&&(n=n.substring(e.length),i[n]=s.getValue())}),i},setValues:function(e,i){i=i||"";return this.find(":input,.input").each(function(){var s=t(this),n=s.attr("name")||s.attr("id");n&&0===n.indexOf(i)&&(n=n.substring(i.length),s.setValue(e[n]))}),this},equals:function(t){return this.data()===t.data()},padInput:function(e){var i,s="auto",n="auto";return e=e||"all",this.each(function(o,a){i=t(a),("ns"===e||"all"===e)&&(s=Math.floor((i.parent().height()-i.height())/2)),("ew"===e||"all"===e)&&(n=Math.floor((i.parent().width()-i.width())/2)),i.css({"padding-top":s,"padding-right":n,"padding-bottom":s,"padding-left":n})}),this}})}(Weebly.jQuery),"undefined"==typeof JSON&&(JSON={stringify:Object.toJSON,parse:function(t){return(t||"").evalJSON()}}),Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,i=Array.prototype.slice.call(arguments,1);return function(){var s=Array.prototype.slice.call(arguments);return e.apply(t,i.concat(s))}}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var i=0,s=this.length;s>i;++i)i in this&&t.call(e,this[i],i,this)}),Array.prototype.find||(Array.prototype.find=function(t,e){for(var i=0,s=this.length;s>i;++i){var n=this[i];if(t.call(e,n))return n}return null}),Array.prototype.push||(Array.prototype.push=function(t){this[this.length]=t}),Array.prototype.remove||(Array.prototype.remove=function(t,e){var i=this.slice((e||t)+1||this.length);return this.length=0>t?this.length+t:t,this.push.apply(this,i)}),String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,i){return"undefined"!=typeof t[i]?t[i]:e})},_wAMD.define("util/misc",function(){}),function(t){"function"==typeof _wAMD.define&&_wAMD.define.amd?_wAMD.define("util/ui/wSpinner",["jquery"],t):t(window.jQuery)}(function(t){"undefined"==typeof t.fn.wSpinner&&t.fn.extend({wSpinner:function(e){function i(){e.incrementElement||e.decrementElement?(u=t(e.incrementElement),d=t(e.decrementElement)):(l=t('<div class="'+e.className+'" />').addClass(e.theme),h=t('<div class="'+e.className+'-controls" />'),u=t('<a class="'+e.className+'-up" />'),d=t('<a class="'+e.className+'-down" />'),h.append(u,d),c.wrap(l).addClass(e.className+"-input").parent().append(h).css({height:e.height||"auto"})),c.on({keypress:function(t){var e=t.keyCode||t.which;return e>47&&58>e||8===e||9===e||37===e||39===e||t.metaKey?!0:!1},keydown:function(e){var i=t(e.currentTarget);38===e.which?n(i):40===e.which&&o(i)},blur:function(t){var e=t.currentTarget;e.getAttribute("data-max")&&parseInt(e.value)>parseInt(e.getAttribute("data-max"))?e.value=e.getAttribute("data-max"):""===e.value&&(e.value=1)},change:function(e){var i=t(e.currentTarget);r(i)&&a()}}),u.on({click:function(t){clearInterval(p),n(c)},mousedown:function(e){t(e.currentTarget).addClass("wsite-active"),p=setInterval(function(){n(c)},250),e.preventDefault()},mouseup:function(t){s(t.currentTarget)},mouseout:function(t){s(t.currentTarget)}}),d.on({click:function(t){clearInterval(p),o(c)},mousedown:function(e){t(e.currentTarget).addClass("wsite-active"),p=setInterval(function(){o(c)},250),e.preventDefault()},mouseup:function(t){s(t.currentTarget)},mouseout:function(t){s(t.currentTarget)}})}function s(e){t(e).removeClass("wsite-active"),clearInterval(p)}function n(t){if(!t.is(":disabled")){var i=parseInt(t.val());isNaN(i)&&e.defaultVal&&(i=e.defaultVal);var s=i+e.interval;t.val(Math.min(s,parseInt(t.attr("data-max"))||e.max)).focus(),a()}}function o(t){if(!t.is(":disabled")){var i=parseInt(t.val());isNaN(i)&&e.defaultVal&&(i=e.defaultVal);var s=i-e.interval;t.val(Math.max(s,parseInt(t.data("data-min"))||e.min)).focus(),a()}}function a(){e.onChange&&e.onChange.call(c[0])}function r(t){if(t.is(":disabled"))return!1;var i=parseInt(t.val());return isNaN(i)?(i=void 0!=e.defaultVal?e.defaultVal:e.min,t.val(i)):i<parseInt(t.attr("data-min")||e.min)?t.val(e.min):i>parseInt(t.attr("data-max")||e.max)&&t.val(e.max),!0}var c,l,h,u,d,p,f={className:"wsite-spinner",height:void 0,min:1,max:1/0,theme:"light",interval:1};return e=t.extend(f,e),this.each(function(e,s){c=t(s),"INPUT"===s.nodeName&&i()}),this},wControlSpinner:function(e){e=e||{},this.each(function(){var i=t(this),s=t.extend({},e);s.incrementElement=i.parent().find(".spinner-inc"),s.decrementElement=i.parent().find(".spinner-dec"),s.defaultVal=14,i.wSpinner(s)})}})}),function(t){"undefined"==typeof t.fn.each2&&t.fn.extend({each2:function(e){for(var i=t([0]),s=-1,n=this.length;++s<n&&(i.context=i[0]=this[s])&&e.call(i[0],s,i)!==!1;);return this}})}(jQuery),function(t,e){function i(t,e){for(var i=0,s=e.length;s>i;i+=1)if(n(t,e[i]))return i;return-1}function s(){var e=t(R);e.appendTo("body");var i={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),i}function n(t,i){return t===i?!0:t===e||i===e?!1:null===t||null===i?!1:t.constructor===String?t+""==i+"":i.constructor===String?i+""==t+"":!1}function o(e,i){var s,n,o;if(null===e||e.length<1)return[];for(s=e.split(i),n=0,o=s.length;o>n;n+=1)s[n]=t.trim(s[n]);return s}function a(t){return t.outerWidth(!1)-t.width()}function r(i){var s="keyup-change-value";i.on("keydown",function(){t.data(i,s)===e&&t.data(i,s,i.val())}),i.on("keyup",function(){var n=t.data(i,s);n!==e&&i.val()!==n&&(t.removeData(i,s),i.trigger("keyup-change"))})}function c(i){i.on("mousemove",function(i){var s=z;(s===e||s.x!==i.pageX||s.y!==i.pageY)&&t(i.target).trigger("mousemove-filtered",i)})}function l(t,i,s){s=s||e;var n;return function(){var e=arguments;window.clearTimeout(n),n=window.setTimeout(function(){i.apply(s,e)},t)}}function h(t){var e,i=!1;return function(){return i===!1&&(e=t(),i=!0),e}}function u(t,e){var s=l(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){i(t.target,e.get())>=0&&s(t)})}function d(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,i=t[0],s=t.val().length;t.focus(),t.is(":visible")&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(s,s):i.createTextRange&&(e=i.createTextRange(),e.collapse(!1),e.select()))},0)}function p(e){e=t(e)[0];var i=0,s=0;if("selectionStart"in e)i=e.selectionStart,s=e.selectionEnd-i;else if("selection"in document){e.focus();var n=document.selection.createRange();s=document.selection.createRange().text.length,n.moveStart("character",-e.value.length),i=n.text.length-s}return{offset:i,length:s}}function f(t){t.preventDefault(),t.stopPropagation()}function m(t){t.preventDefault(),t.stopImmediatePropagation()}function g(e){if(!W){var i=e[0].currentStyle||window.getComputedStyle(e[0],null);W=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),W.attr("class","select2-sizer"),t("body").append(W)}return W.text(e.val()),W.width()}function v(e,i,s){var n,o,a=[];n=e.attr("class"),n&&(n=""+n,t(n.split(" ")).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),n=i.attr("class"),n&&(n=""+n,t(n.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=s(this),o&&a.push(this))})),e.attr("class",a.join(" "))}function b(t,e,i,s){var n=t.toUpperCase().indexOf(e.toUpperCase()),o=e.length;return 0>n?void i.push(s(t)):(i.push(s(t.substring(0,n))),i.push("<span class='select2-match'>"),i.push(s(t.substring(n,n+o))),i.push("</span>"),void i.push(s(t.substring(n+o,t.length))))}function w(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function C(i){var s,n=0,o=null,a=i.quietMillis||100,r=i.url,c=this;return function(l){window.clearTimeout(s),s=window.setTimeout(function(){n+=1;var s=n,a=i.data,h=r,u=i.transport||t.fn.select2.ajaxDefaults.transport,d={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||e,dataType:i.dataType||"json"},p=t.extend({},t.fn.select2.ajaxDefaults.params,d);a=a?a.call(c,l.term,l.page,l.context):null,h="function"==typeof h?h.call(c,l.term,l.page,l.context):h,o&&o.abort(),i.params&&(t.isFunction(i.params)?t.extend(p,i.params.call(c)):t.extend(p,i.params)),t.extend(p,{url:h,dataType:i.dataType,data:a,success:function(t){if(!(n>s)){var e=i.results(t,l.page);l.callback(e)}}}),o=u.call(c,p)},a)}}function y(e){var i,s,n=e,o=function(t){return""+t.text};t.isArray(n)&&(s=n,n={results:s}),t.isFunction(n)===!1&&(s=n,n=function(){return s});var a=n();return a.text&&(o=a.text,t.isFunction(o)||(i=a.text,o=function(t){return t[i]})),function(e){var i,s=e.term,a={results:[]};return""===s?void e.callback(n()):(i=function(n,a){var r,c;if(n=n[0],n.children){r={};for(c in n)n.hasOwnProperty(c)&&(r[c]=n[c]);r.children=[],t(n.children).each2(function(t,e){i(e,r.children)}),(r.children.length||e.matcher(s,o(r),n))&&a.push(r)}else e.matcher(s,o(n),n)&&a.push(n)},t(n().results).each2(function(t,e){i(e,a.results)}),void e.callback(a))}}function x(i){var s=t.isFunction(i);return function(n){var o=n.term,a={results:[]};t(s?i():i).each(function(){var t=this.text!==e,i=t?this.text:this;(""===o||n.matcher(o,i))&&a.results.push(t?this:{id:this,text:this})}),n.callback(a)}}function S(e,i){if(t.isFunction(e))return!0;if(!e)return!1;throw new Error(i+" must be a function or a falsy value")}function F(e){return t.isFunction(e)?e():e}function E(e){var i=0;return t.each(e,function(t,e){e.children?i+=E(e.children):i++}),i}function k(t,i,s,o){var a,r,c,l,h,u=t,d=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return e;for(;;){for(r=-1,c=0,l=o.tokenSeparators.length;l>c&&(h=o.tokenSeparators[c],r=t.indexOf(h),!(r>=0));c++);if(0>r)break;if(a=t.substring(0,r),t=t.substring(r+h.length),a.length>0&&(a=o.createSearchChoice.call(this,a,i),a!==e&&null!==a&&o.id(a)!==e&&null!==o.id(a))){for(d=!1,c=0,l=i.length;l>c;c++)if(n(o.id(a),o.id(i[c]))){d=!0;break}d||s(a)}}return u!==t?t:void 0}function T(e,i){var s=function(){};return s.prototype=new e,s.prototype.constructor=s,s.prototype.parent=e.prototype,s.prototype=t.extend(s.prototype,i),s}if(window.Select2===e){var D,I,O,A,P,W,M,j,z={x:0,y:0},D={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case D.LEFT:case D.RIGHT:case D.UP:case D.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case D.SHIFT:case D.CTRL:case D.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},R="<div class='select2-measure-scrollbar'></div>";M=t(document),P=function(){var t=1;return function(){return t++}}(),M.on("mousemove",function(t){z.x=t.pageX,z.y=t.pageY}),I=T(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var n,o,a,l,d=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+P()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=h(function(){return i.element.closest("body")}),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(F(i.containerCss)),this.container.addClass(F(i.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(F(i.dropdownCssClass)),this.dropdown.data("select2",this),this.results=n=this.container.find(d),this.search=o=this.container.find("input.select2-input"),this.resultsPage=0,this.context=null,this.initContainer(),c(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",d,this.bind(this.highlightUnderEvent)),u(80,this.results),this.dropdown.on("scroll-debounced",d,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&n.mousewheel(function(t,e,i,s){var o=n.scrollTop();s>0&&0>=o-s?(n.scrollTop(0),f(t)):0>s&&n.get(0).scrollHeight-n.scrollTop()+s<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),f(t))}),r(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",d,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var a=i.element.prop("disabled");a===e&&(a=!1),this.enable(!a);var l=i.element.prop("readonly");l===e&&(l=!1),this.readonly(l),j=j||s(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus()},destroy:function(){var t=this.opts.element,i=t.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),i!==e&&(i.container.remove(),i.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:n(t.attr("locked"),"locked")||n(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(i){var s,a,r,c,l=this;if(s=i.element,"select"===s.get(0).tagName.toLowerCase()&&(this.select=a=i.element),a&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=t.extend({},{populateResults:function(s,n,o){var a,r=this.opts.id;(a=function(s,n,c){var h,u,d,p,f,m,g,v,b,w;for(s=i.sortResults(s,n,o),h=0,u=s.length;u>h;h+=1)d=s[h],f=d.disabled===!0,p=!f&&r(d)!==e,m=d.children&&d.children.length>0,g=t("<li></li>"),g.addClass("select2-results-dept-"+c),g.addClass("select2-result"),g.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(l.opts.formatResultCssClass(d)),v=t(document.createElement("div")),v.addClass("select2-result-label"),w=i.formatResult(d,v,o,l.opts.escapeMarkup),w!==e&&v.html(w),g.append(v),m&&(b=t("<ul></ul>"),b.addClass("select2-result-sub"),a(d.children,b,c+1),g.append(b)),g.data("select2-data",d),n.append(g)})(n,s,0)}},t.fn.select2.defaults,i),"function"!=typeof i.id&&(r=i.id,i.id=function(t){return t[r]}),t.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(a?(i.query=this.bind(function(t){var i,n,o,a={results:[],more:!1},r=t.term;o=function(e,i){var s;e.is("option")?t.matcher(r,e.text(),e)&&i.push(l.optionToData(e)):e.is("optgroup")&&(s=l.optionToData(e),e.children().each2(function(t,e){o(e,s.children)}),s.children.length>0&&i.push(s))},i=s.children(),this.getPlaceholder()!==e&&i.length>0&&(n=this.getPlaceholderOption(),n&&(i=i.not(n))),i.each2(function(t,e){o(e,a.results)}),t.callback(a)}),i.id=function(t){return t.id},i.formatResultCssClass=function(t){return t.css}):"query"in i||("ajax"in i?(c=i.element.data("ajax-url"),c&&c.length>0&&(i.ajax.url=c),i.query=C.call(i.element,i.ajax)):"data"in i?i.query=y(i.data):"tags"in i&&(i.query=x(i.tags),i.createSearchChoice===e&&(i.createSearchChoice=function(t){return{id:t,text:t}}),i.initSelection===e&&(i.initSelection=function(e,s){var a=[];t(o(e.val(),i.separator)).each(function(){var e=this,s=this,o=i.tags;t.isFunction(o)&&(o=o()),t(o).each(function(){return n(this.id,e)?(s=this.text,!1):void 0}),a.push({id:e,text:s})}),s(a)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");return i},monitorSource:function(){var t,i=this.opts.element;i.on("change.select2",this.bind(function(t){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var t,s=i.prop("disabled");s===e&&(s=!1),this.enable(!s);var t=i.prop("readonly");t===e&&(t=!1),this.readonly(t),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(F(this.opts.containerCssClass)),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(F(this.opts.dropdownCssClass))}),i.on("propertychange.select2 DOMAttrModified.select2",t),this.mutationCallback===e&&(this.mutationCallback=function(e){e.forEach(t)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var i=t.Event("select2-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){return t===e&&(t=!0),this._enabled===t?!1:(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface(),!0)},readonly:function(t){return t===e&&(t=!1),this._readonly===t?!1:(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,i,s,n,o=this.dropdown,a=this.container.offset(),r=this.container.outerHeight(!1),c=this.container.outerWidth(!1),l=o.outerHeight(!1),h=t(window).scrollLeft()+t(window).width(),u=t(window).scrollTop()+t(window).height(),d=a.top+r,p=a.left,f=u>=d+l,m=a.top-l>=this.body().scrollTop(),g=o.outerWidth(!1),v=h>=p+g,b=o.hasClass("select2-drop-above");this.opts.dropdownAutoWidth?(n=t(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),g=o.outerWidth(!1)+(n.scrollHeight===n.clientHeight?0:j.width),g>c?c=g:g=c,v=h>=p+g):this.container.removeClass("select2-drop-auto-width"),
"static"!==this.body().css("position")&&(e=this.body().offset(),d-=e.top,p-=e.left),b?(i=!0,!m&&f&&(i=!1)):(i=!1,!f&&m&&(i=!0)),v||(p=a.left+c-g),i?(d=a.top-l,this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),s=t.extend({top:d,left:p,width:c},F(this.opts.dropdownCss)),o.css(s)},shouldOpen:function(){var e;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){function e(){return{width:Math.max(document.documentElement.scrollWidth,t(window).width()),height:Math.max(document.documentElement.scrollHeight,t(window).height())}}var i,s,n=this.containerId,o="scroll."+n,a="resize."+n,r="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),i=t("#select2-drop-mask"),0==i.length&&(i=t(document.createElement("div")),i.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),i.hide(),i.appendTo(this.body()),i.on("mousedown touchstart click",function(e){var i,s=t("#select2-drop");s.length>0&&(i=s.data("select2"),i.opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close(),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==i[0]&&this.dropdown.before(i),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),s=e(),i.css(s).show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var c=this;this.container.parents().add(window).each(function(){t(this).on(a+" "+o+" "+r,function(i){var s=e();t("#select2-drop-mask").css(s),c.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerId,i="scroll."+e,s="resize."+e,n="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(i).off(s).off(n)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return F(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,i,s,n,o,a,r,c=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return void c.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),s=t(e[i]),n=s.offset().top+s.outerHeight(!0),i===e.length-1&&(r=c.find("li.select2-more-results"),r.length>0&&(n=r.offset().top+r.outerHeight(!0))),o=c.offset().top+c.outerHeight(!0),n>o&&c.scrollTop(c.scrollTop()+(n-o)),a=s.offset().top-c.offset().top,0>a&&"none"!=s.css("display")&&c.scrollTop(c.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(e){for(var i=this.findHighlightableChoices(),s=this.highlight();s>-1&&s<i.length;){s+=e;var n=t(i[s]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(s);break}}},highlight:function(e){var s,n,o=this.findHighlightableChoices();return 0===arguments.length?i(o.filter(".select2-highlighted")[0],o.get()):(e>=o.length&&(e=o.length-1),0>e&&(e=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),s=t(o[e]),s.addClass("select2-highlighted"),this.ensureHighlightVisible(),n=s.data("select2-data"),void(n&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})))},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var i=t(e.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var s=this.findHighlightableChoices();this.highlight(s.index(i))}else 0==i.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var t,e=this.results,i=e.find("li.select2-more-results"),s=this.resultsPage+1,n=this,o=this.search.val(),a=this.context;0!==i.length&&(t=i.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:s,context:a,matcher:this.opts.matcher,callback:this.bind(function(t){n.opened()&&(n.opts.populateResults.call(this,e,t.results,{term:o,page:s,context:a}),n.postprocessResults(t,!1,!1),t.more===!0?(i.detach().appendTo(e).text(n.opts.formatLoadMore(s+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):i.remove(),n.positionDropdown(),n.resultsPage=s,n.context=t.context)})})))},tokenize:function(){},updateResults:function(i){function s(){c.removeClass("select2-active"),u.positionDropdown()}function o(t){l.html(t),s()}var a,r,c=this.search,l=this.results,h=this.opts,u=this,d=c.val(),p=t.data(this.container,"select2-last-term");if((i===!0||!p||!n(d,p))&&(t.data(this.container,"select2-last-term",d),i===!0||this.showSearchInput!==!1&&this.opened())){var f=this.getMaximumSelectionSize();if(f>=1&&(a=this.data(),t.isArray(a)&&a.length>=f&&S(h.formatSelectionTooBig,"formatSelectionTooBig")))return void o("<li class='select2-selection-limit'>"+h.formatSelectionTooBig(f)+"</li>");if(c.val().length<h.minimumInputLength)return o(S(h.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+h.formatInputTooShort(c.val(),h.minimumInputLength)+"</li>":""),void(i&&this.showSearch&&this.showSearch(!0));if(h.maximumInputLength&&c.val().length>h.maximumInputLength)return void o(S(h.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+h.formatInputTooLong(c.val(),h.maximumInputLength)+"</li>":"");h.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+h.formatSearching()+"</li>"),c.addClass("select2-active"),r=this.tokenize(),r!=e&&null!=r&&c.val(r),this.resultsPage=1,h.query({element:h.element,term:c.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(a){var r;return this.opened()?(this.context=a.context===e?null:a.context,this.opts.createSearchChoice&&""!==c.val()&&(r=this.opts.createSearchChoice.call(u,c.val(),a.results),r!==e&&null!==r&&u.id(r)!==e&&null!==u.id(r)&&0===t(a.results).filter(function(){return n(u.id(this),u.id(r))}).length&&a.results.unshift(r)),0===a.results.length&&S(h.formatNoMatches,"formatNoMatches")?void o("<li class='select2-no-results'>"+h.formatNoMatches(c.val())+"</li>"):(l.empty(),u.opts.populateResults.call(this,l,a.results,{term:c.val(),page:this.resultsPage,context:null}),a.more===!0&&S(h.formatLoadMore,"formatLoadMore")&&(l.append("<li class='select2-more-results'>"+u.opts.escapeMarkup(h.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(a,i),s(),void this.opts.element.trigger({type:"select2-loaded",items:a}))):void this.search.removeClass("select2-active")})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){d(this.search)},selectHighlighted:function(t){var e=this.highlight(),i=this.results.find(".select2-highlighted"),s=i.closest(".select2-result").data("select2-data");s?(this.highlight(e),this.onSelect(s,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var t=this.select.children().first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&t||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.text()&&""===t.val())return t}},initContainerWidth:function(){function i(){var i,s,n,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(i=this.opts.element.attr("style"),i!==e)for(s=i.split(";"),o=0,a=s.length;a>o;o+=1)if(n=s[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==n&&n.length>=1)return n[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var s=i.call(this);null!==s&&this.container.css("width",s)}}),O=T(I,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='icon'>downarrowsmall<b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var e,i,s;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),e=this.search.get(0),e.createTextRange?(i=e.createTextRange(),i.collapse(!1),i.select()):e.setSelectionRange&&(s=this.search.val().length,e.setSelectionRange(s,s)),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var e,i=this.container,s=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+P()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){if(t.which===D.PAGE_UP||t.which===D.PAGE_DOWN)return void f(t);switch(t.which){case D.UP:case D.DOWN:return this.moveHighlight(t.which===D.UP?-1:1),void f(t);case D.ENTER:return this.selectHighlighted(),void f(t);case D.TAB:return void this.selectHighlighted({noFocus:!0});case D.ESC:return this.cancel(t),void f(t)}}})),this.search.on("blur",this.bind(function(t){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==D.TAB&&!D.isControl(t)&&!D.isFunctionKey(t)&&t.which!==D.ESC){if(this.opts.openOnEnter===!1&&t.which===D.ENTER)return void f(t);if(t.which==D.DOWN||t.which==D.UP||t.which==D.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void f(t)}return t.which==D.DELETE||t.which==D.BACKSPACE?(this.opts.allowClear&&this.clear(),void f(t)):void 0}})),r(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),m(t),this.close(),this.selection.focus())})),e.on("mousedown",this.bind(function(e){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),f(e)})),s.on("mousedown",this.bind(function(){this.search.focus()})),e.on("focus",this.bind(function(t){f(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var e=this.selection.data("select2-data");if(e){var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection([]),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var t;return(t=this.getPlaceholderOption())!==e&&t.is(":selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val()},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var s=t.find(":selected");e(i.optionToData(s))}:"data"in e&&(e.initSelection=e.initSelection||function(i,s){var o=i.val(),a=null;e.query({matcher:function(t,i,s){var r=n(o,e.id(s));return r&&(a=s),r},callback:t.isFunction(s)?function(){s(a)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,i){var s=0,o=this;if(this.findHighlightableChoices().each2(function(t,e){return n(o.id(e.data("select2-data")),o.opts.element.val())?(s=t,!1):void 0}),i!==!1&&(e===!0&&s>=0?this.highlight(s):this.highlight(0)),e===!0){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(E(t.results)>=a)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var i=this.opts.element.val(),s=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.close(),e&&e.noFocus||this.selection.focus(),n(i,this.id(t))||this.triggerChange({added:t,removed:s})}},updateSelection:function(t){var i,s,n=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),n.empty(),i=this.opts.formatSelection(t,n,this.opts.escapeMarkup),i!==e&&n.append(i),s=this.opts.formatSelectionCssClass(t,n),s!==e&&n.addClass(s),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,i=!1,s=null,n=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(t).find(":selected").each2(function(t,e){return s=n.optionToData(e),!1}),this.updateSelection(s),this.setPlaceholder(),i&&this.triggerChange({added:s,removed:o});else{if(!t&&0!==t)return void this.clear(i);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){n.opts.element.val(t?n.id(t):""),n.updateSelection(t),n.setPlaceholder(),i&&n.triggerChange({added:t,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t,i){var s;return 0===arguments.length?(s=this.selection.data("select2-data"),s==e&&(s=null),s):void(t&&""!==t?(s=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),i&&this.triggerChange({added:t,removed:s})):this.clear(i))}}),A=T(I,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var s=[];t.find(":selected").each2(function(t,e){s.push(i.optionToData(e))}),e(s)}:"data"in e&&(e.initSelection=e.initSelection||function(i,s){var a=o(i.val(),e.separator),r=[];e.query({matcher:function(i,s,o){var c=t.grep(a,function(t){return n(t,e.id(o))}).length;return c&&r.push(o),c},callback:t.isFunction(s)?function(){for(var t=[],i=0;i<a.length;i++)for(var o=a[i],c=0;c<r.length;c++){var l=r[c];if(n(o,e.id(l))){t.push(l),r.splice(c,1);break}}s(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},initContainer:function(){var e,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(i);var s=this;this.selection.on("mousedown",".select2-search-choice",function(e){s.search[0].focus(),s.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+P()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var i=e.find(".select2-search-choice-focus"),s=i.prev(".select2-search-choice:not(.select2-locked)"),n=i.next(".select2-search-choice:not(.select2-locked)"),o=p(this.search);if(i.length&&(t.which==D.LEFT||t.which==D.RIGHT||t.which==D.BACKSPACE||t.which==D.DELETE||t.which==D.ENTER)){var a=i;return t.which==D.LEFT&&s.length?a=s:t.which==D.RIGHT?a=n.length?n:null:t.which===D.BACKSPACE?(this.unselect(i.first()),this.search.width(10),a=s.length?s:n):t.which==D.DELETE?(this.unselect(i.first()),this.search.width(10),a=n.length?n:null):t.which==D.ENTER&&(a=null),this.selectChoice(a),f(t),void(a&&a.length||this.open())}if((t.which===D.BACKSPACE&&1==this.keydowns||t.which==D.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void f(t);if(this.selectChoice(null),this.opened())switch(t.which){case D.UP:case D.DOWN:return this.moveHighlight(t.which===D.UP?-1:1),void f(t);case D.ENTER:return this.selectHighlighted(),void f(t);case D.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case D.ESC:return this.cancel(t),void f(t)}if(t.which!==D.TAB&&!D.isControl(t)&&!D.isFunctionKey(t)&&t.which!==D.BACKSPACE&&t.which!==D.ESC){if(t.which===D.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===D.PAGE_UP||t.which===D.PAGE_DOWN)&&f(t),t.which===D.ENTER&&f(t)}}})),this.search.on("keyup",this.bind(function(t){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),i=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var s=[],n=[],o=this;t(e).each(function(){i(o.id(this),s)<0&&(s.push(o.id(this)),n.push(this))}),e=n,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var s,n,o=!i.locked,a=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=t("<li class='select2-search-choice select2-locked'><div></div></li>"),c=o?a:r,l=this.id(i),h=this.getVal();s=this.opts.formatSelection(i,c.find("div"),this.opts.escapeMarkup),s!=e&&c.find("div").replaceWith("<div>"+s+"</div>"),n=this.opts.formatSelectionCssClass(i,c.find("div")),n!=e&&c.addClass(n),o&&c.find(".select2-search-choice-close").on("mousedown",f).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),f(e))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),c.data("select2-data",i),c.insertBefore(this.searchContainer),h.push(l),this.setVal(h)},unselect:function(t){var e,s,n=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";e=t.data("select2-data"),e&&(s=i(this.id(e),n),s>=0&&(n.splice(s,1),this.setVal(n),this.select&&this.postprocessResults()),t.remove(),this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))},postprocessResults:function(t,e,s){var n=this.getVal(),o=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),r=this;o.each2(function(t,e){var s=r.id(e.data("select2-data"));i(s,n)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&s!==!1&&r.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&S(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+r.opts.formatNoMatches(r.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-a(this.search)},resizeSearch:function(){var t,e,i,s,n,o=a(this.search);t=g(this.search)+10,e=this.search.offset().left,i=this.selection.width(),s=this.selection.offset().left,n=i-(e-s)-o,t>n&&(n=i-o),40>n&&(n=i-o),0>=n&&(n=t),this.search.width(n)},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),o(t,this.opts.separator))},setVal:function(e){var s;this.select?this.select.val(e):(s=[],t(e).each(function(){i(this,s)<0&&s.push(this)}),this.opts.element.val(0===s.length?"":s.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),i=0;i<e.length;i++)for(var s=0;s<t.length;s++)n(this.opts.id(e[i]),this.opts.id(t[s]))&&(e.splice(i,1),i--,t.splice(s,1),s--);return{added:e,removed:t}},val:function(i,s){var n,o=this;if(0===arguments.length)return this.getVal();if(n=this.data(),n.length||(n=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(s&&this.triggerChange({added:this.data(),removed:n}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),s&&this.triggerChange(this.buildChangeDetails(n,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var i=t.map(e,o.id);o.setVal(i),o.updateSelection(e),o.clearSearch(),s&&o.triggerChange(this.buildChangeDetails(n,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(i.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,i){var s,n,o=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(n=this.data(),e||(e=[]),s=t.map(e,function(t){return o.opts.id(t)}),this.setVal(s),this.updateSelection(e),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(n,this.data())),void 0)}}),t.fn.select2=function(){var s,n,o,a,r,c=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","readonly","positionDropdown","data","search"],h=["val","opened","isFocused","container","data"],u={search:"externalSearch"};return this.each(function(){if(0===c.length||"object"==typeof c[0])s=0===c.length?{}:t.extend({},c[0]),s.element=t(this),"select"===s.element.get(0).tagName.toLowerCase()?r=s.element.prop("multiple"):(r=s.multiple||!1,"tags"in s&&(s.multiple=r=!0)),n=r?new A:new O,n.init(s);else{if("string"!=typeof c[0])throw"Invalid arguments to select2 plugin: "+c;if(i(c[0],l)<0)throw"Unknown method: "+c[0];if(a=e,n=t(this).data("select2"),n===e)return;if(o=c[0],"container"===o?a=n.container:"dropdown"===o?a=n.dropdown:(u[o]&&(o=u[o]),a=n[o].apply(n,c.slice(1))),i(c[0],h)>=0)return!1}}),a===e?this:a},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,s){var n=[];return b(t.text,i.term,n,s),n.join("")},formatSelection:function(t,i,s){return t?s(t.text):e},sortResults:function(t,e,i){return t},formatResultCssClass:function(t){return e},formatSelectionCssClass:function(t,i){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" more character"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(t){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return(""+e).toUpperCase().indexOf((""+t).toUpperCase())>=0;
},separator:",",tokenSeparators:[],tokenizer:k,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(t){return null}},t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:C,local:y,tags:x},util:{debounce:l,markMatch:b,escapeMarkup:w},"class":{"abstract":I,single:O,multi:A}}}}(jQuery),_wAMD.define("util/ui/Select2",function(){}),Weebly.Commerce=Weebly.Commerce||{},Weebly.Commerce.Site=Weebly.Commerce.Site||{},window.initCommerceModels&&initCommerceModels(),_wAMD.define("site/published/commerce-init",["util/backbone-rpc"],function(){}),_wAMD.define("site/published/commerce-core",["jquery","underscore","backbone","backbone-relational","backbone-validation","vendor/jsonrpc","vendor/jquery.pasteImageReader","vendor/cloud-zoom.1.0.2","util/backbone-rpc","util/backbone-validators","util/misc","util/ui/wSpinner","util/ui/Select2","site/published/commerce-init"],function(){}),_wAMD.define("site/commerce-core",function(){});